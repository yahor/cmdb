<div class="nested-fields mb-6 p-6 border-2 border-gray-200 rounded-xl bg-white shadow-sm">
  <div class="grid grid-cols-12 gap-6 items-center">
    <div class="col-span-5">
      <%= form.select :using_type, options_for_select(Relationship::USING_TYPES, selected: form.object.using_type) %>
    </div>
    <div class="col-span-5">
      <%= form.select :connected_item_id,
      options_for_select(ConfigurationItem.order(:name).map{|c| ["#{c.name}(#{c.class})", c.id]},
       { selected: form.object.connected_item_id }) %>
    </div>
    <div class="col-span-2 flex items-end">
      <%= link_to "#",
              data: { action: "nested-form#remove" },
              class: "inline-flex items-center px-3 py-2 border border-red-500 text-red-500 rounded-lg hover:bg-red-50 hover:text-red-700 transition" do %>
      <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
      </svg>
      <% end %>
      <%= form.hidden_field :_destroy %>
    </div>
  </div>
</div>